# Инструментарий gunicorn

_Новое в версии 19.1_.

**Gunicorn** предоставляет дополнительный инструментарий для арбитра и воркеров с использованием протокола **statsD** через **UDP**. Благодаря модулю `gunicorn.instrument.statsd` **Gunicorn** становится клиентом **statsD**. Использование UDP четко изолирует **Gunicorn** от принимающей стороны метрик **statsD**, так что инструменты не заставляют **Gunicorn** задерживаться медленным потребителем **statsD**.

Чтобы использовать **statsD**, просто сообщите **Gunicorn**, где находится сервер **statsD**:

```bash
$ gunicorn --statsd-host=localhost:8125 --statsd-prefix=service.app ...
```

Логгер **Statsd** переопределяет **gunicorn.glogging.Logger** для отслеживания всех запросов. Формируются следующие показатели:

* `gunicorn.requests`: частота запросов в секунду
* `gunicorn.request.duration`: гистограмма длительности запроса (в миллисекундах)
* `gunicorn.workers`: количество воркеров, которыми управляет арбитр (измеритель)
* `gunicorn.log.critical`: степень критических сообщений журнала
* `gunicorn.log.error`: степень сообщений журнала ошибок
* `gunicorn.log.warning`: степень сообщений журнала предупреждений
* `gunicorn.log.exception`: степень сообщений журнала исключений

См. настройку [statsd-host](nastroika-gunicorn.md#statsd\_host) для получения дополнительной информации.
