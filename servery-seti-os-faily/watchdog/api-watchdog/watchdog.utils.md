# watchdog.utils

**модуль**: _watchdog.utils_

**краткий обзор**: Вспомогательные классы и функции.

**автор**: [yesudeep@google.com](mailto:yesudeep%40google.com) (Yesudeep Mangalapilly)

**автор**: [contact@tiger-222.fr](mailto:contact%40tiger-222.fr) (Mickaël Schoentgen)

## Классы

### BaseThread

#### _class_ watchdog.utils.BaseThread

\[[Исходник](https://python-watchdog.readthedocs.io/en/stable/\_modules/watchdog/utils.html#BaseThread)].

**Bases**: threading.Thread

Удобный класс для создания останавливаемых потоков.

#### daemon

Логическое значение, указывающее, является ли этот поток потоком демона.

Это должно быть установлено перед вызовом `start()`, иначе будет вызвана ошибка **RuntimeError**. Его начальное значение наследуется от создающего потока; основной поток не является потоком демона, и поэтому все потоки, созданные в основном потоке, по умолчанию имеют значение `daemon = False`.

Вся программа Python завершает работу, когда остаются только потоки демона.

#### ident

Идентификатор потока этого потока или `None`, если он не был запущен.

Это ненулевое целое число. См. функцию `get_ident()`. Идентификаторы потоков могут быть переработаны, когда поток завершается и создается другой поток. Идентификатор доступен даже после завершения потока.

#### isAlive()

Возвращает, жив ли поток.

Этот метод устарел, вместо него используйте `is_alive()`.

#### is\_alive()

Возвращает, жив ли поток.

Этот метод возвращает значение `True` непосредственно перед запуском метода `run()` и до тех пор, пока метод `run()` не завершится. Функция модуля `enumerate()` возвращает список всех активных потоков.

#### join(_timeout=None_)

Дождитесь завершения потока.

Это блокирует вызывающий поток до тех пор, пока поток, чей метод `join()` вызывается, не завершится — либо в обычном режиме, либо из-за необработанного исключения, либо до тех пор, пока не произойдет необязательный тайм-аут.

Когда присутствует аргумент **timeout**, а не `None`, он должен быть числом с плавающей запятой, указывающим тайм-аут для операции в секундах (или их долях). Поскольку `join()` всегда возвращает `None`, вы должны вызвать `is_alive()` после `join()`, чтобы решить, произошел ли тайм-аут — если поток все еще активен, время ожидания вызова `join()` истекло.

Если аргумент **timeout** отсутствует или `None`, операция будет заблокирована до тех пор, пока поток не завершится.

Поток может объединяться (`join()`) много раз.

`join()` вызывает **RuntimeError**, если предпринимается попытка присоединиться к текущему потоку, так как это может привести к тупиковой ситуации. Также является ошибкой присоединиться к потоку `join()` до того, как он был запущен, и попытки сделать это вызывают такое же исключение.

#### name

Строка, используемая только для целей идентификации.

У него нет семантики. Одно и то же имя может быть присвоено нескольким потокам. Начальное имя задается конструктором.

#### on\_thread\_start()

\[[Исходник](https://python-watchdog.readthedocs.io/en/stable/\_modules/watchdog/utils.html#BaseThread.on\_thread\_start)].

Переопределите этот метод вместо [start()](watchdog.utils.md#start). **start()** вызывает этот метод.

Этот метод вызывается непосредственно перед запуском этого потока и вызовом метода **run()** этого объекта.

#### on\_thread\_stop()

\[[Исходник](https://python-watchdog.readthedocs.io/en/stable/\_modules/watchdog/utils.html#BaseThread.on\_thread\_stop)].

Переопределите этот метод вместо [stop()](watchdog.utils.md#stop). **stop()** вызывает этот метод.

Этот метод вызывается сразу после того, как поток получает сигнал об остановке.

#### run()

Метод, представляющий активность потока.

Вы можете переопределить этот метод в подклассе. Стандартный метод `run()` вызывает вызываемый объект, переданный конструктору объекта в качестве целевого аргумента, если он есть, с последовательными и ключевыми аргументами, взятыми из аргументов **args** и **kwargs** соответственно.

#### should\_keep\_running()

\[[Исходник](https://python-watchdog.readthedocs.io/en/stable/\_modules/watchdog/utils.html#BaseThread.should\_keep\_running)].

Определяет, должен ли поток продолжать работу.

#### start()

\[[Исходник](https://python-watchdog.readthedocs.io/en/stable/\_modules/watchdog/utils.html#BaseThread.start)].

Запускает активность потока.

Он должен вызываться не более одного раза для каждого объекта потока. Он организует вызов метода `run()` объекта в отдельном потоке управления.

Этот метод вызовет ошибку **RuntimeError**, если он вызывается более одного раза для одного и того же объекта потока.

#### stop()

\[[Исходник](https://python-watchdog.readthedocs.io/en/stable/\_modules/watchdog/utils.html#BaseThread.stop)].

Сигнализирует потоку об остановке.
