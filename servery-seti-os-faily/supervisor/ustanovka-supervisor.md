# Установка supervisor

Инструкции по установке зависят от того, имеет ли система, в которой вы пытаетесь установить **Supervisor**, доступ к Интернету.

## Установка в систему с доступом в Интернет

### Интернет-установка с помощью Pip

**Supervisor** можно установить с помощью `pip install`:

```bash
pip install supervisor
```

В зависимости от разрешений Python вашей системы вам может потребоваться быть пользователем **root**, чтобы успешно установить **Supervisor** с помощью **pip**.

Вы также можете установить супервизор в **virtualenv** через **pip**.

### Интернет-установка без Pip

Если в вашей системе не установлен **pip**, вам нужно будет загрузить дистрибутив **Supervisor** и установить его вручную. Текущий и предыдущие выпуски **Supervisor** можно загрузить с [PyPi](https://pypi.org/pypi/supervisor/). После распаковки архива программного обеспечения запустите `python setup.py install`. Для этого требуется доступ в Интернет. Он загрузит и установит все дистрибутивы, от которых зависит **Supervisor**, и, наконец, установит сам **Supervisor**.

{% hint style="info" %}
В зависимости от разрешений Python вашей системы вам может потребоваться быть пользователем **root**, чтобы успешно вызвать установку `python setup.py install`.
{% endhint %}

## Установка в систему без доступа в Интернет

Если система, на которую вы хотите установить **Supervisor**, не имеет доступа к Интернету, вам потребуется выполнить установку несколько иначе. Поскольку и `pip`, и `python setup.py install` зависят от доступа к Интернету для загрузки зависимого программного обеспечения, ни один из них не будет работать на машинах без доступа к Интернету, пока не будут установлены зависимости. Чтобы установить на компьютер, не подключенный к Интернету, получите следующие зависимости на компьютере, подключенном к Интернету:

* setuptools (latest) из[ https://pypi.org/pypi/setuptools/.](https://pypi.org/pypi/setuptools/)

Скопируйте эти файлы на съемный носитель и поместите их на целевую машину. Установите каждый на целевую машину в соответствии с его инструкциями. Обычно это просто означает распаковку каждого файла и вызов установки `python setup.py install` в распакованной директории. Наконец, запустите установку `python setup.py install` супервизора.

{% hint style="info" %}
В зависимости от разрешений Python вашей системы вам может потребоваться быть пользователем **root**, чтобы успешно вызвать установку `python setup.py install` для каждого пакета.
{% endhint %}

## Установка дистрибутива

Некоторые дистрибутивы **Linux** предлагают версию **Supervisor**, которую можно установить через системный менеджер пакетов. Эти пакеты создаются третьими сторонами, а не разработчиками **Supervisor**, и часто включают в себя изменения в **Supervisor**, относящиеся к конкретному дистрибутиву.

Используйте инструменты управления пакетами вашего дистрибутива, чтобы проверить доступность; например в **Ubuntu** вы можете запустить диспетчер `apt-cache show supervisor`, а в **CentOS** вы можете запустить диспетчер информации `yum info supervisor`.

Особенностью дистрибутивных пакетов **Supervisor** является то, что они обычно включают интеграцию в инфраструктуру управления сервисами дистрибутива, т.е. разрешить автоматический запуск **supervisord** при загрузке системы.

{% hint style="info" %}
Дистрибутивные пакеты **Supervisor** могут значительно отставать от официальных пакетов **Supervisor**, выпущенных для **PyPI**. Например, **Ubuntu 12.04** (выпущена в апреле 2012 г.) предлагала пакет на основе **Supervisor 3.0a8** (выпущен в январе 2010 г.). Задержка часто вызвана политикой выпуска программного обеспечения, установленной данным дистрибутивом.
{% endhint %}

{% hint style="info" %}
Пользователи сообщили, что дистрибутив **Supervisor** для **Ubuntu 16.04** ведет себя иначе, чем предыдущие версии. В **Ubuntu 10.04**, **12.04** и **14.04** установка пакета настроит систему на запуск **supervisord** при загрузке системы. В **Ubuntu 16.04** этого не было сделано в первоначальном выпуске пакета. Пакет был исправлен позже. Для получения дополнительной информации см. [Ubuntu Bug #1594740](https://bugs.launchpad.net/ubuntu/+source/supervisor/+bug/1594740).
{% endhint %}

## Создание файла конфигурации

После завершения установки **Supervisor** запустите **echo\_supervisord\_conf**. Это распечатает «образец» файла конфигурации **Supervisor** на стандартный вывод вашего терминала.

Как только вы увидите, что файл отображается на вашем терминале, повторно вызовите команду как `echo_supervisord_conf > /etc/supervisord.conf`. Это не сработает, если у вас нет **root**-доступа.

Если у вас нет **root**-доступа или вы не хотите помещать файл `supervisord.conf` в `/etc/supervisord.conf`, вы можете поместить его в текущий каталог (`echo_supervisord_conf > supervisord.conf`) и запустить **supervisord** с параметром **-c**, чтобы указать расположение файла конфигурации.

Например, `supervisord -c supervisord.conf`. Использование флага **-c** на самом деле является излишним в этом случае, потому что **supervisord** ищет файл `supervisord.conf` в текущем каталоге, прежде чем искать файл в других местах, но это сработает. Дополнительные сведения о флаге **-c** см. в разделе <mark style="color:purple;">Запуск супервизора</mark>.

Когда у вас есть файл конфигурации в вашей файловой системе, вы можете начать изменять его по своему вкусу.
